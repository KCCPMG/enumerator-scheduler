(this["webpackJsonpenumerator-scheduler"]=this["webpackJsonpenumerator-scheduler"]||[]).push([[0],{38:function(e,t,a){e.exports=a(49)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),o=a.n(i),l=(a(43),a(37)),c=a(19),s=a(4),u=a(26),m=a(27),d=a(30),f=a(29),v=(a(44),a(45),a(52)),h=a(53),y=a(55),p=a(56),b=a(54),E=["8:00 AM","8:15 AM","8:30 AM","8:45 AM","9:00 AM","9:15 AM","9:30 AM","9:45 AM","10:00 AM","10:15 AM","10:30 AM","10:45 AM","11:00 AM","11:15 AM","11:30 AM","11:45 AM","12:00 PM","12:15 PM","12:30 PM","12:45 PM","1:00 PM","1:15 PM","1:30 PM","1:45 PM","2:00 PM","2:15 PM","2:30 PM","2:45 PM","3:00 PM","3:15 PM","3:30 PM","3:45 PM","4:00 PM","4:15 PM","4:30 PM","4:45 PM","5:00 PM","5:15 PM","5:30 PM","5:45 PM","6:00 PM","6:15 PM","6:30 PM","6:45 PM","7:00 PM","7:15 PM","7:30 PM","7:45 PM","8:00 PM","8:15 PM","8:30 PM","8:45 PM","9:00 PM"];function g(e){if(null===e)return"";e instanceof Date||console.log(e);var t=e.getHours(),a=e.getMinutes(),n="AM";return 12===t&&(n="PM"),t>12&&(t-=12,n="PM"),a<10&&(a="0".concat(a)),"".concat(t,":").concat(a," ").concat(n)}function T(e,t){for(var a=String(e);a.length<t;)a="0"+a;return a}function M(e){var t=T((e=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3)).getUTCFullYear(),4),a=T(e.getUTCMonth()+1,2),n=T(e.getUTCDate(),2);return"".concat(t,"-").concat(a,"-").concat(n)}var w=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).setShowModal=function(){n.setState({showModal:!n.state.showModal})},n.updateState=function(e){console.log(e);var t=e,a=t.currentAssignedShiftIntervals,r=t.currentAssignedShiftWindows,i=t.currentAvailabilityIntervals,o=t.currentAvailabilityWindows,l=t.currentClaimedShiftIntervals,c=t.currentClaimedShiftWindows,u=t.currentDate,m=t.enumerators,d=t.nextId,f=["availability","assignedShifts","claimedShifts"];[a,r,i,o,l,c].forEach((function(e){return[]}));var v,h=Object(s.a)(m);try{for(h.s();!(v=h.n()).done;){var y,p=v.value,b=Object(s.a)(f);try{for(b.s();!(y=b.n()).done;){var E,g=y.value,T=Object(s.a)(p[g]);try{for(T.s();!(E=T.n()).done;){E.value.valid=!0}}catch(Se){T.e(Se)}finally{T.f()}}}catch(Se){b.e(Se)}finally{b.f()}}}catch(Se){h.e(Se)}finally{h.f()}for(var w=0,S=f;w<S.length;w++){var O,A=S[w],P=Object(s.a)(m);try{for(P.s();!(O=P.n()).done;){var j=O.value;for(var N in j[A])for(var D=Number(N)+1;D<j[A].length;){var k=j[A][N],C=j[A][D];(k.startTime>=C.startTime&&k.startTime<=C.endTime||k.startTime<=C.startTime&&k.endTime>=C.startTime)&&(k.valid=!1,C.valid=!1),D++}}}catch(Se){P.e(Se)}finally{P.f()}}for(var I=0,W=f;I<W.length;I++){var x,J=W[I],F=Object(s.a)(m);try{for(F.s();!(x=F.n()).done;){var V,H=x.value,U=Object(s.a)(H[J]);try{for(U.s();!(V=U.n()).done;){var Y=V.value;!0===Y.valid&&Y.startTime>=Y.endTime&&(Y.valid=!1)}}catch(Se){U.e(Se)}finally{U.f()}}}catch(Se){F.e(Se)}finally{F.f()}}i=[],a=[],l=[];var B,q=Object(s.a)(m);try{var z=function(){var e=B.value,t=[];e.availability.filter((function(e){return!0===e.valid&&M(e.startTime)===M(u)})).forEach((function(e){return t.push(e.startTime,e.endTime)})),Array.from(new Set(t)).forEach((function(e){return i.push(e)}));var n=[];e.assignedShifts.filter((function(e){return!0===e.valid&&M(e.startTime)===M(u)})).forEach((function(e){return n.push(e.startTime,e.endTime)})),Array.from(new Set(n)).forEach((function(e){return a.push(e)}));var r=[];e.claimedShifts.filter((function(e){return!0===e.valid&&M(e.startTime)===M(u)})).forEach((function(e){return r.push(e.startTime,e.endTime)})),Array.from(new Set(r)).forEach((function(e){return l.push(e)}))};for(q.s();!(B=q.n()).done;)z()}catch(Se){q.e(Se)}finally{q.f()}for(var L in i=Array.from(new Set(i.sort((function(e,t){return e-t})).map((function(e){return e.valueOf()})))).map((function(e){return new Date(e)})),a=Array.from(new Set(a.sort((function(e,t){return e-t})).map((function(e){return e.valueOf()})))).map((function(e){return new Date(e)})),l=Array.from(new Set(l.sort((function(e,t){return e-t})).map((function(e){return e.valueOf()})))).map((function(e){return new Date(e)})),o=[],i)if(L<i.length-1){var G=i[L],R=i[Number(L)+1],X={start:G,end:R},$=0;console.log($);var K,Q=Object(s.a)(m);try{for(Q.s();!(K=Q.n()).done;){var Z,_=K.value,ee=Object(s.a)(_.availability);try{for(ee.s();!(Z=ee.n()).done;){var te=Z.value;te.startTime<=G&&te.endTime>=R&&($+=_.priority)}}catch(Se){ee.e(Se)}finally{ee.f()}}}catch(Se){Q.e(Se)}finally{Q.f()}X.priority=$,o.push(X)}for(var ae in r=[],a)if(ae<a.length-1){var ne,re=a[ae],ie=a[Number(ae)+1],oe={start:re,end:ie},le=0,ce=Object(s.a)(m);try{for(ce.s();!(ne=ce.n()).done;){var se,ue=ne.value,me=Object(s.a)(ue.assignedShifts);try{for(me.s();!(se=me.n()).done;){var de=se.value;de.startTime<=re&&de.endTime>=ie&&(le+=ue.priority)}}catch(Se){me.e(Se)}finally{me.f()}}}catch(Se){ce.e(Se)}finally{ce.f()}oe.priority=le,r.push(oe)}for(var fe in c=[],l)if(fe<l.length-1){var ve,he=l[fe],ye=l[Number(fe)+1],pe={start:he,end:ye},be=0,Ee=Object(s.a)(m);try{for(Ee.s();!(ve=Ee.n()).done;){var ge,Te=ve.value,Me=Object(s.a)(Te.claimedShifts);try{for(Me.s();!(ge=Me.n()).done;){var we=ge.value;we.startTime<=he&&we.endTime>=ye&&(be+=Te.priority)}}catch(Se){Me.e(Se)}finally{Me.f()}}}catch(Se){Ee.e(Se)}finally{Ee.f()}pe.priority=be,c.push(pe)}e={currentAssignedShiftIntervals:a,currentAssignedShiftWindows:r,currentAvailabilityIntervals:i,currentAvailabilityWindows:o,currentClaimedShiftIntervals:l,currentClaimedShiftWindows:c,currentDate:u,enumerators:m,nextId:d},console.log(e),n.setState(e)},n.updateCurrentTimeIntervals=function(e,t){var a=M(n.state.currentDate),r={};r[e]=[];var i=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(i),console.log(i);var o=n.state.enumerators;console.log("updateCurrentTimeIntervals",e);var l,c=Object(s.a)(o);try{for(c.s();!(l=c.n()).done;){var u,m=l.value[e],d=Object(s.a)(m);try{for(d.s();!(u=d.n()).done;){var f=u.value;console.log(f.startTime,f.endTime,f.valid),M(f.startTime)===a&&f.valid&&r[e].push(f.startTime),M(f.endTime)===a&&f.valid&&r[e].push(f.endTime)}}catch(S){d.e(S)}finally{d.f()}}}catch(S){c.e(S)}finally{c.f()}r[e]=n.sortedTimes(r[e]);var v=[];for(var h in console.log(r[e]),r[e])if(h>0){var y={priority:0};y.start=r[e][h-1],y.end=r[e][h],console.log(y.start,y.end);var p,b=Object(s.a)(o);try{for(b.s();!(p=b.n()).done;){var E,g=p.value,T=Object(s.a)(g[e]);try{for(T.s();!(E=T.n()).done;){var w=E.value;w.startTime<=y.start&&w.endTime>=y.end&&(console.log(g.priority),y.priority=y.priority+g.priority)}}catch(S){T.e(S)}finally{T.f()}}}catch(S){b.e(S)}finally{b.f()}console.log(y),v.push(y)}switch(console.log(v),e){case"availability":i.currentAvailabilityIntervals=r[e],i.currentAvailabilityWindows=v;break;case"assignedShifts":i.currentAssignedShiftIntervals=r[e],i.currentAssignedShiftWindows=v;break;case"claimedShifts":i.currentClaimedShiftIntervals=r[e],i.currentClaimedShiftWindows=v}n.setState(i,t)},n.sortedTimes=function(e){return function e(t){var a=t;for(var n in t)n>0&&t[n]==t[n-1]&&(a.splice(n,1),a=e(a));return a}(e.sort((function(e,t){return e-t})).map((function(e){return e.getTime()}))).map((function(e){return new Date(e)}))},n.preserveDateFormat=function(e){if(e.currentDate&&(e.currentDate=new Date(e.currentDate)),e.currentAvailabilityIntervals=e.currentAvailabilityIntervals.map((function(e){return new Date(e)})),e.currentAssignedShiftIntervals=e.currentAssignedShiftIntervals.map((function(e){return new Date(e)})),e.currentClaimedShiftIntervals=e.currentClaimedShiftIntervals.map((function(e){return new Date(e)})),e.currentAvailabilityWindows){var t,a=Object(s.a)(e.currentAvailabilityWindows);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.start=new Date(n.start),n.end=new Date(n.end)}}catch(P){a.e(P)}finally{a.f()}}if(e.currentAssignedShiftWindows){var r,i=Object(s.a)(e.currentAssignedShiftWindows);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.start=new Date(o.start),o.end=new Date(o.end)}}catch(P){i.e(P)}finally{i.f()}}if(e.currentClaimedShiftWindows){var l,c=Object(s.a)(e.currentClaimedShiftWindows);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.start=new Date(u.start),u.end=new Date(u.end)}}catch(P){c.e(P)}finally{c.f()}}var m,d=e.enumerators,f=Object(s.a)(d);try{for(f.s();!(m=f.n()).done;){var v,h=m.value,y=h.availability,p=h.assignedShifts,b=h.claimedShifts,E=Object(s.a)(y);try{for(E.s();!(v=E.n()).done;){var g=v.value;g.startTime&&(g.startTime=new Date(g.startTime)),g.endTime&&(g.endTime=new Date(g.endTime))}}catch(P){E.e(P)}finally{E.f()}var T,M=Object(s.a)(p);try{for(M.s();!(T=M.n()).done;){var w=T.value;w.startTime&&(w.startTime=new Date(w.startTime)),w.endTime&&(w.endTime=new Date(w.endTime))}}catch(P){M.e(P)}finally{M.f()}var S,O=Object(s.a)(b);try{for(O.s();!(S=O.n()).done;){var A=S.value;A.startTime&&(A.startTime=new Date(A.startTime)),A.endTime&&(A.endTime=new Date(A.endTime))}}catch(P){O.e(P)}finally{O.f()}}}catch(P){f.e(P)}finally{f.f()}},n.changeDate=function(e){var t=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(t);var a=new Date(e.target.value);return t.currentDate=new Date(a.getTime()+60*a.getTimezoneOffset()*1e3),n.updateState(t)},n.addEnumerator=function(){var e=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(e),console.log("before assignment",{stateObj:e});var t=e.enumerators,a={id:e.nextId,name:"",priority:1,availability:[],assignedShifts:[],claimedShifts:[]};return e.nextId++,console.log("after assignment",{stateObj:e}),t.push(a),n.updateState(e)},n.deleteEnumerator=function(e){var t=JSON.parse(JSON.stringify(n.state));return n.preserveDateFormat(t),t.enumerators=t.enumerators.filter((function(t){return t.id!==e})),n.updateState(t)},n.adjustPriority=function(e,t){var a=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(a);var r=a.enumerators.find((function(t){return t.id===e})),i=t?1:-1;return r.priority=Math.min(Math.max(r.priority+i,0),9),n.updateState(a)},n.changeEnumeratorName=function(e,t){var a=JSON.parse(JSON.stringify(n.state));return n.preserveDateFormat(a),a.enumerators.find((function(t){return t.id===e})).name=t,console.log({stateObj:a,id:e,newName:t}),n.setState(a)},n.addAvailability=function(e){var t=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(t);var a=t.enumerators.find((function(t){return t.id===e})),r=a.availability.map((function(e){return e.id}));0===r.length&&(r=[-1]);var i=Math.max.apply(Math,Object(c.a)(r))+1;return console.log(a,r,i),a.availability.push({id:i,startTime:n.state.currentDate,endTime:n.state.currentDate}),n.updateState(t)},n.addTime=function(e,t){var a=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(a);var r=a.enumerators.find((function(t){return t.id===e})),i=r[t].map((function(e){return e.id}));0===i.length&&(i=[-1]);var o=Math.max.apply(Math,Object(c.a)(i))+1,l=new Date(n.state.currentDate);l.setHours(8),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0);var s=new Date(n.state.currentDate);return s.setHours(8),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),r[t].push({id:o,startTime:l,endTime:s,valid:!1}),n.updateState(a)},n.deleteTime=function(e,t,a){var r=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(r);var i=r.enumerators.find((function(e){return e.id===t}));return i[e]=i[e].filter((function(e){return e.id!==a})),n.updateState(r)},n.checkValidity=function(e,t){var a=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(a),e?(n.determineOverlapValidity(a,e),n.determineOrderValidity(a,e)):(n.determineOverlapValidity(a,"availability"),n.determineOverlapValidity(a,"assignedShifts"),n.determineOverlapValidity(a,"claimedShifts"),n.determineOrderValidity(a,"availability"),n.determineOrderValidity(a,"assignedShifts"),n.determineOrderValidity(a,"claimedShifts")),n.setState(a,t)},n.determineOverlapValidity=function(e,t){var a,n=Object(s.a)(e.enumerators);try{for(n.s();!(a=n.n()).done;){var r,i=a.value,o=Object(s.a)(i[t]);try{for(o.s();!(r=o.n()).done;){r.value.valid=!0}}catch(p){o.e(p)}finally{o.f()}}}catch(p){n.e(p)}finally{n.f()}var l,c=Object(s.a)(e.enumerators);try{for(c.s();!(l=c.n()).done;){var u,m=l.value,d=Object(s.a)(m[t]);try{for(d.s();!(u=d.n()).done;){var f,v=u.value,h=Object(s.a)(m[t]);try{for(h.s();!(f=h.n()).done;){var y=f.value;v.id!==y.id&&((v.startTime>=y.startTime&&v.startTime<=y.endTime||v.endTime>=y.startTime&&v.endTime<=y.endTime||v.startTime<=y.startTime&&v.endTime>=y.endTime)&&(v.valid=!1,y.valid=!1))}}catch(p){h.e(p)}finally{h.f()}}}catch(p){d.e(p)}finally{d.f()}}}catch(p){c.e(p)}finally{c.f()}},n.determineOrderValidity=function(e,t){var a,n=Object(s.a)(e.enumerators);try{for(n.s();!(a=n.n()).done;){var r,i=a.value,o=Object(s.a)(i[t]);try{for(o.s();!(r=o.n()).done;){var l=r.value;l.valid&&l.startTime>=l.endTime&&(l.valid=!1)}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}},n.modifyTime=function(e,t,a,r,i){console.log({type:e,startOrEnd:t,enumId:a,blockId:r,newValue:i});var o=JSON.parse(JSON.stringify(n.state));n.preserveDateFormat(o);var l,c=o.enumerators.find((function(e){return e.id===a}))[e].find((function(e){return e.id===r}));c[t]=new Date(o.currentDate),l=i.match("AM")?0:12;var s=Number(i.slice(0,i.indexOf(":")));12===s&&(s=0),s+=l;var u=Number(i.slice(i.indexOf(":")+1,i.indexOf(" ")));return c[t].setHours(s,u,0,0),n.updateState(o)},n.state={showModal:!1,currentDate:new Date,nextId:1,enumerators:[],currentAvailabilityIntervals:[],currentAssignedShiftIntervals:[],currentClaimedShiftIntervals:[],currentAvailabilityWindows:[],currentAssignedShiftWindows:[],currentClaimedShiftWindows:[]},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t,a,n,i=this,o=0,l=this.state.enumerators.map((function(e){return o++,r.a.createElement(S,{key:"enumerator-".concat(o),enumerator:e,currentDate:i.state.currentDate,adjustPriority:i.adjustPriority,deleteEnumerator:i.deleteEnumerator,changeEnumeratorName:i.changeEnumeratorName,deleteTime:i.deleteTime,modifyTime:i.modifyTime,addTime:i.addTime})})),c=0,s=((null===(e=this.state.currentAvailabilityWindows)||void 0===e?void 0:e.length)>0?null===(t=this.state.currentAvailabilityWindows)||void 0===t||t.map((function(e){return c++,r.a.createElement(v.a,{key:"availability-row-".concat(c)},r.a.createElement(h.a,null,g(new Date(e.start))," - ",g(new Date(e.end))),r.a.createElement(h.a,null,e.priority))})):(v.a,h.a,h.a),0);(null===(a=this.state.currentAssignedShiftWindows)||void 0===a?void 0:a.length)>0?null===(n=this.state.currentAssignedShiftWindows)||void 0===n||n.map((function(e){return console.log(e),s++,r.a.createElement(v.a,{key:"assigned-row-".concat(s)},r.a.createElement(h.a,null,g(e.start)," - ",g(e.end)),r.a.createElement(h.a,null,e.priority))})):(v.a,"assigned-row-".concat(s),h.a,h.a);return r.a.createElement("div",{className:"App"},r.a.createElement(y.a,{id:"help-modal",show:this.state.showModal,onHide:this.setShowModal},r.a.createElement(y.a.Header,{closeButton:!0},r.a.createElement(y.a.Title,null,"Enumerator Scheduler Help")),r.a.createElement(y.a.Body,null,"This tool is designed to help you as a Census Field Supervisor consolidate and view the schedules of your enumerators, so that you can better plan your day as to when you will work your shift.",r.a.createElement("br",null),r.a.createElement("br",null),"You are looking at one day at a time, which can be adjusted by the Select Date input.",r.a.createElement("br",null),r.a.createElement("br",null),"You can create new enumerators by selecting the 'Add Enumerator' button.",r.a.createElement("br",null),r.a.createElement("br",null),"Once you've created an enumerator, enumerators can be deleted at any time by selecting the X in the top right corner of each Enumerator section.",r.a.createElement("br",null),r.a.createElement("br",null),"You can add times to each enumerator for the selected day that you're looking at, by clicking 'Add Availability', 'Add Assigned Shift', or 'Add Claimed Shift'. Each block of time will default to 8:00 AM - 8:00 AM until changed. If a block is invalid, it will be highlighted red and a warning will appear.",r.a.createElement("br",null),r.a.createElement("br",null),"You can also adjust each enumerator's priority to indicate whether or not they require more supervision. Each enumerator's score can be from 0 to 9. For example, if you have an enumerator whom you feel requires no supervision, you can put their priority score at 0. However, if you feel that they will need attention and it is important that you stay in contact with them on their shift, then you can give them a higher priority score.",r.a.createElement("br",null),r.a.createElement("br",null),"At the bottom of the page are the bars that indicate all of the time blocks for the day, both for availability, and for assigned shifts. The Availability bar corresponds to all of your enumerators' availability, and the Assigned Shifts bar corresponds to all of your enumerators' assigned shifts. Each block is color coded to indicate how busy a block of time is, with gray indicating less busy and blue indicating more busy. For example, if from 1pm to 3pm, you have only one enumerator with availability and that enumerator has a priority score of 1, but from 3pm to 5pm you have 3 enumerators with availability and their priority scores are higher, then the Availability bar would be gray for 1-3 and blue for 3-5. Hovering the mouse over any section of the bar will indicate what the times of that block are and what the priority is.",r.a.createElement("br",null),r.a.createElement("br",null),"Good luck!"),r.a.createElement(y.a.Footer,{className:"justify-content-center"},r.a.createElement("button",{onClick:this.setShowModal},"Finished"))),r.a.createElement(p.a,{className:"nav"},r.a.createElement("div",{className:"mx-auto"},"Enumerator Time Viewer"),r.a.createElement("div",{className:"float-sm-right help-modal-question-mark",onClick:this.setShowModal},"?")),r.a.createElement(b.a,{fluid:!0,className:"enumerator-master-container"},r.a.createElement("datalist",{id:"times"},r.a.createElement("option",{value:"9:00 AM"}),r.a.createElement("option",{value:"9:15 AM"}),r.a.createElement("option",{value:"9:30 AM"}),r.a.createElement("option",{value:"9:45 AM"}),r.a.createElement("option",{value:"10:00 AM"}),r.a.createElement("option",{value:"10:15 AM"}),r.a.createElement("option",{value:"10:30 AM"}),r.a.createElement("option",{value:"10:45 AM"}),r.a.createElement("option",{value:"11:00 AM"}),r.a.createElement("option",{value:"11:15 AM"}),r.a.createElement("option",{value:"11:30 AM"}),r.a.createElement("option",{value:"11:45 AM"}),r.a.createElement("option",{value:"12:00 PM"}),r.a.createElement("option",{value:"12:15 PM"}),r.a.createElement("option",{value:"12:30 PM"}),r.a.createElement("option",{value:"12:45 PM"}),r.a.createElement("option",{value:"1:00 PM"}),r.a.createElement("option",{value:"1:15 PM"}),r.a.createElement("option",{value:"1:30 PM"}),r.a.createElement("option",{value:"1:45 PM"}),r.a.createElement("option",{value:"2:00 PM"}),r.a.createElement("option",{value:"2:15 PM"}),r.a.createElement("option",{value:"2:30 PM"}),r.a.createElement("option",{value:"2:45 PM"}),r.a.createElement("option",{value:"3:00 PM"}),r.a.createElement("option",{value:"3:15 PM"}),r.a.createElement("option",{value:"3:30 PM"}),r.a.createElement("option",{value:"3:45 PM"}),r.a.createElement("option",{value:"4:00 PM"}),r.a.createElement("option",{value:"4:15 PM"}),r.a.createElement("option",{value:"4:30 PM"}),r.a.createElement("option",{value:"4:45 PM"}),r.a.createElement("option",{value:"5:00 PM"}),r.a.createElement("option",{value:"5:15 PM"}),r.a.createElement("option",{value:"5:30 PM"}),r.a.createElement("option",{value:"5:45 PM"}),r.a.createElement("option",{value:"6:00 PM"}),r.a.createElement("option",{value:"6:15 PM"}),r.a.createElement("option",{value:"6:30 PM"}),r.a.createElement("option",{value:"6:45 PM"}),r.a.createElement("option",{value:"6:00 PM"}),r.a.createElement("option",{value:"7:15 PM"}),r.a.createElement("option",{value:"7:30 PM"}),r.a.createElement("option",{value:"7:45 PM"}),r.a.createElement("option",{value:"7:00 PM"}),r.a.createElement("option",{value:"8:15 PM"}),r.a.createElement("option",{value:"8:30 PM"}),r.a.createElement("option",{value:"8:45 PM"}),r.a.createElement("option",{value:"9:00 PM"})),r.a.createElement(v.a,{className:"justify-content-center p-2"},r.a.createElement("h5",{className:"m-2"},"Select Date:"),r.a.createElement("input",{type:"date",value:M(this.state.currentDate),onChange:this.changeDate,className:"m-2"})),r.a.createElement(v.a,{className:"justify-content-center p-2"},r.a.createElement("button",{id:"add-enumerator-button",onClick:this.addEnumerator},"Add Enumerator")),l),r.a.createElement(b.a,{fluid:!0,id:"time-display"},r.a.createElement("h5",null,"Availability"),r.a.createElement(A,{currentWindows:this.state.currentAvailabilityWindows}),r.a.createElement("h5",null,"Assigned Shifts"),r.a.createElement(A,{currentWindows:this.state.currentAssignedShiftWindows})))}}]),a}(r.a.Component);function S(e){var t=e.currentDate,a=e.enumerator,n=a.id,i=a.name,o=a.priority,l=a.availability,c=a.assignedShifts,s=a.claimedShifts;t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate();l=l.filter((function(e){var a=M(e.startTime),n=M(e.endTime),r=M(t);return a===n&&n===r})),c=c.filter((function(e){var a=M(e.startTime),n=M(e.endTime),r=M(t);return a===n&&n===r}));(s=s.filter((function(e){var a=M(e.startTime),n=M(e.endTime),r=M(t);return a===n&&n===r}))).map((function(t){return r.a.createElement(O,{type:"claimedShifts",block:t,modifyTime:e.modifyTime,deleteTime:e.deleteTime,id:n})})),c.map((function(t){return r.a.createElement(O,{type:"assignedShifts",block:t,modifyTime:e.modifyTime,deleteTime:e.deleteTime,id:n})})),l.map((function(t){return r.a.createElement(O,{type:"availability",block:t,modifyTime:e.modifyTime,deleteTime:e.deleteTime,id:n})}));return r.a.createElement(b.a,{className:"enumerator-container",key:n},r.a.createElement(v.a,{className:"enumerator-row enumerator-name-row p-1"},r.a.createElement("input",{value:i,className:"enumerator-name",placeholder:"Enumerator Name",onChange:function(t){e.changeEnumeratorName(n,t.target.value)}}),r.a.createElement(h.a,null,r.a.createElement("span",{style:{marginRight:"10px"}},"Priority:"),r.a.createElement("span",{className:"adjust-priority adjust-priority-down",onClick:function(){e.adjustPriority(n,!1)}},"\u25bc"),o,r.a.createElement("span",{className:"adjust-priority adjust-priority-up",onClick:function(){e.adjustPriority(n,!0)}},"\u25b2")),r.a.createElement(h.a,null,r.a.createElement("span",{className:"delete-enumerator-icon",onClick:function(t){e.deleteEnumerator(n)}},"\xd7"))),r.a.createElement(v.a,null,r.a.createElement(P,{blocks:l,header:"Availability",type:"availability",addTime:e.addTime,modifyTime:e.modifyTime,deleteTime:e.deleteTime,enumeratorId:n}),r.a.createElement(P,{blocks:c,header:"Assigned Shifts",type:"assignedShifts",addTime:e.addTime,modifyTime:e.modifyTime,deleteTime:e.deleteTime,enumeratorId:n}),r.a.createElement(P,{blocks:s,header:"Claimed Shifts",type:"claimedShifts",addTime:e.addTime,modifyTime:e.modifyTime,deleteTime:e.deleteTime,enumeratorId:n})))}function O(e){var t=e.type,a=e.block,i=e.modifyTime,o=e.deleteTime,c=e.id,s=E.map((function(e){var t=!1;return g(a.startTime)==e&&(t=!0),r.a.createElement("option",{key:e,value:e,selected:t},e)})),u=E.map((function(e){var t=!1;return g(a.endTime)==e&&(t=!0),r.a.createElement("option",{key:e,value:e,selected:t},e)})),m=Object(n.useState)(!1),d=Object(l.a)(m,2),f=(d[0],d[1]);return r.a.createElement(b.a,{key:a.id,className:"rendered-time-block",onMouseEnter:function(e){a.valid||f(!0)},onMouseLeave:function(e){f(!1)}},r.a.createElement(v.a,{className:"time-block-row justify-content-center"},r.a.createElement("select",{as:"Col",list:"times",key:"availability-".concat(a.id,"-start"),className:"time-input m-2 ".concat(a.valid?"":"time-input-invalid"),onChange:function(e){i(t,"startTime",c,a.id,e.target.value)}},s),r.a.createElement("div",{className:"time-block-to-div"},"to"),r.a.createElement("select",{as:"Col",list:"times",key:"availability-".concat(a.id,"-end"),className:"time-input m-2 ".concat(a.valid?"":"time-input-invalid"),onChange:function(e){i(t,"endTime",c,a.id,e.target.value)}},u),r.a.createElement("button",{as:"Col",className:"close m-1",onClick:function(){o(t,c,a.id)}},"\xd7")))}var A=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={detail:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=Math.max.apply(Math,Object(c.a)(this.props.currentWindows.map((function(e){return e.priority})))),a=Math.min.apply(Math,Object(c.a)(this.props.currentWindows.map((function(e){return E.indexOf(g(e.start))})))),n=Math.max.apply(Math,Object(c.a)(this.props.currentWindows.map((function(e){return E.indexOf(g(e.end))})))),i=[226,226,226],o=[173,216,230],l=this.props.currentWindows.map((function(l){for(var c=g(l.start),s=g(l.end),u=[],m=0;m<3;m++)u.push(i[m]-l.priority/t*(i[m]-o[m]));return console.log(E,l),console.log(E.indexOf(s),E.indexOf(c),n,a),console.log(100*(E.indexOf(s)-E.indexOf(c))/(n-a)),r.a.createElement("div",{className:"priority-block",style:{height:"45px",width:"".concat(100*(E.indexOf(s)-E.indexOf(c))/(n-a),"%"),backgroundColor:"rgb(".concat(u[0],", ").concat(u[1],", ").concat(u[2],")")},onMouseEnter:function(){e.setState({detail:"".concat(c," - ").concat(s,", Priority: ").concat(l.priority)})},onMouseLeave:function(){e.setState({detail:""})}},r.a.createElement("div",{className:"priority-circle"},l.priority))}));return r.a.createElement("div",null,r.a.createElement(v.a,{className:"priority-blocks-row"},l),r.a.createElement(v.a,{className:"hover-display-area"},this.state.detail))}}]),a}(r.a.Component);function P(e){var t=e.blocks.map((function(t){return r.a.createElement(O,{type:e.type,block:t,modifyTime:e.modifyTime,deleteTime:e.deleteTime,id:e.enumeratorId})}));console.log(e);var a=null;return e.blocks.every((function(e){return e.valid}))||(a=r.a.createElement(v.a,{className:"warning xs-12"},r.a.createElement("span",{className:"warning-span"},"Make sure that the end time is later than the start time, and that this time window does not overlap any other windows."))),r.a.createElement(h.a,{className:"enumerator-col enumeartor-availability-col",sm:6,md:4},r.a.createElement(v.a,{className:"justify-content-center"},r.a.createElement("h6",null,e.header)),r.a.createElement(v.a,{className:"justify-content-center"},t),a,r.a.createElement(v.a,{className:"justify-content-center"},r.a.createElement("button",{onClick:function(){console.log(e.enumeratorId),e.addTime(e.enumeratorId,e.type)}},"Add ","s"===e.header[e.header.length-1]?e.header.slice(0,e.header.length-1):e.header)))}var j=w;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.826dcfe2.chunk.js.map